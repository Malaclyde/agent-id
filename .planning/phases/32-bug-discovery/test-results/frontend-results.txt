
[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90m/Users/brotholomew/workdir/llms/agent-id/frontend[39m

 [32mâœ“[39m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22msetSession[2m > [22msets session ID and stores in localStorage[32m 1[2mms[22m[39m
 [32mâœ“[39m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22msetSession[2m > [22mclears session when called with null[32m 0[2mms[22m[39m
 [32mâœ“[39m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mgetSession[2m > [22mreturns session from localStorage if not in memory[32m 0[2mms[22m[39m
 [32mâœ“[39m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mgetSession[2m > [22mreturns session from memory if set[32m 0[2mms[22m[39m
 [32mâœ“[39m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mgetSession[2m > [22mreturns null if no session exists[32m 0[2mms[22m[39m
 [31mÃ—[39m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mrequest method[2m > [22mmakes fetch request with correct headers[32m 1[2mms[22m[39m
[31m   â†’ __vite_ssr_import_0__.vi.mocked(...).mockClear is not a function[39m
 [31mÃ—[39m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mrequest method[2m > [22mincludes Authorization header when session exists[32m 0[2mms[22m[39m
[31m   â†’ __vite_ssr_import_0__.vi.mocked(...).mockClear is not a function[39m
 [31mÃ—[39m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mrequest method[2m > [22mdoes not include Authorization header when no session[32m 0[2mms[22m[39m
[31m   â†’ __vite_ssr_import_0__.vi.mocked(...).mockClear is not a function[39m
 [31mÃ—[39m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mrequest method[2m > [22mthrows error when response is not ok[32m 0[2mms[22m[39m
[31m   â†’ __vite_ssr_import_0__.vi.mocked(...).mockClear is not a function[39m
 [31mÃ—[39m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mrequest method[2m > [22mreturns parsed JSON data on success[32m 0[2mms[22m[39m
[31m   â†’ __vite_ssr_import_0__.vi.mocked(...).mockClear is not a function[39m
 [31mÃ—[39m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mregisterAgent[2m > [22mmakes POST request to correct endpoint[32m 0[2mms[22m[39m
[31m   â†’ __vite_ssr_import_0__.vi.mocked(...).mockResolvedValue is not a function[39m
 [31mÃ—[39m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mloginAgent[2m > [22mmakes POST request with agent ID[32m 0[2mms[22m[39m
[31m   â†’ __vite_ssr_import_0__.vi.mocked(...).mockResolvedValue is not a function[39m
 [31mÃ—[39m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mcompleteAgentLogin[2m > [22msets session on successful login[32m 0[2mms[22m[39m
[31m   â†’ __vite_ssr_import_0__.vi.mocked(...).mockResolvedValue is not a function[39m
 [31mÃ—[39m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mloginOverseer[2m > [22mmakes POST request and sets session on success[32m 0[2mms[22m[39m
[31m   â†’ __vite_ssr_import_0__.vi.mocked(...).mockResolvedValue is not a function[39m
 [31mÃ—[39m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mregisterOverseer[2m > [22mmakes POST request and sets session on success[32m 0[2mms[22m[39m
[31m   â†’ __vite_ssr_import_0__.vi.mocked(...).mockResolvedValue is not a function[39m
 [32mâœ“[39m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mlogout[2m > [22mclears session and removes localStorage items[32m 0[2mms[22m[39m
 [31mÃ—[39m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mlogoutOverseerAndClear[2m > [22mcalls logoutOverseer API and clears session[32m 0[2mms[22m[39m
[31m   â†’ __vite_ssr_import_0__.vi.mocked(...).mockResolvedValue is not a function[39m
 [31mÃ—[39m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mlogoutOverseerAndClear[2m > [22mclears session even if API call fails[32m 0[2mms[22m[39m
[31m   â†’ __vite_ssr_import_0__.vi.mocked(...).mockRejectedValue is not a function[39m
 [31mÃ—[39m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mgetSubscription[2m > [22mmakes GET request to subscriptions endpoint[32m 0[2mms[22m[39m
[31m   â†’ __vite_ssr_import_0__.vi.mocked(...).mockResolvedValue is not a function[39m
 [31mÃ—[39m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22minitiateUpgrade[2m > [22mmakes POST request with target tier[32m 0[2mms[22m[39m
[31m   â†’ __vite_ssr_import_0__.vi.mocked(...).mockResolvedValue is not a function[39m
 [32mâœ“[39m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mcrypto utilities[2m > [22mgenerateEd25519KeyPair[2m > [22mreturns public and private key[32m 43[2mms[22m[39m
 [32mâœ“[39m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mcrypto utilities[2m > [22mgenerateEd25519KeyPair[2m > [22mreturns different keys each time[32m 1[2mms[22m[39m
 [32mâœ“[39m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mcrypto utilities[2m > [22mformatPublicKey[2m > [22mconverts base64 to URL-safe format[32m 0[2mms[22m[39m
 [32mâœ“[39m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mcrypto utilities[2m > [22mformatPublicKey[2m > [22mremoves padding[32m 0[2mms[22m[39m
[90mstderr[2m | test/unit/pages/shadow-claim-payment.test.tsx[2m > [22m[2mShadowClaimPayment[2m > [22m[2mChallenge status loading[2m > [22m[2mshows error if challenge not found
[22m[39mFailed to check challenge status: Error: Challenge not found
    at [90m/Users/brotholomew/workdir/llms/agent-id/frontend/[39mtest/unit/pages/shadow-claim-payment.test.tsx:100:9
    at [90mfile:///Users/brotholomew/workdir/llms/agent-id/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:145:11
    at [90mfile:///Users/brotholomew/workdir/llms/agent-id/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:915:26
    at [90mfile:///Users/brotholomew/workdir/llms/agent-id/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1243:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///Users/brotholomew/workdir/llms/agent-id/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1209:10[90m)[39m
    at [90mfile:///Users/brotholomew/workdir/llms/agent-id/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1653:37
    at Traces.$ [90m(file:///Users/brotholomew/workdir/llms/agent-id/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/traces.CCmnQaNT.js:142:27[90m)[39m
    at trace [90m(file:///Users/brotholomew/workdir/llms/agent-id/frontend/[39mnode_modules/[4mvitest[24m/dist/chunks/test.B8ej_ZHS.js:239:21[90m)[39m
    at runTest [90m(file:///Users/brotholomew/workdir/llms/agent-id/frontend/[39mnode_modules/[4m@vitest[24m/runner/dist/index.js:1653:12[90m)[39m

 [32mâœ“[39m test/unit/pages/home.test.tsx[2m > [22mHome[2m > [22mInitial render[2m > [22mrenders main title[32m 20[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/home.test.tsx[2m > [22mHome[2m > [22mInitial render[2m > [22mrenders subtitle[32m 3[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/home.test.tsx[2m > [22mHome[2m > [22mInitial render[2m > [22mrenders human and agent choice buttons[32m 2[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/home.test.tsx[2m > [22mHome[2m > [22mInitial render[2m > [22mrenders description text[32m 2[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/home.test.tsx[2m > [22mHome[2m > [22mInitial render[2m > [22mrenders skill link[32m 2[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/home.test.tsx[2m > [22mHome[2m > [22mHuman flow[2m > [22mshows human view when clicking human button[32m 6[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/home.test.tsx[2m > [22mHome[2m > [22mHuman flow[2m > [22mhas back button to return to home[32m 6[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/home.test.tsx[2m > [22mHome[2m > [22mHuman flow[2m > [22mshows create account link in human view[32m 6[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/home.test.tsx[2m > [22mHome[2m > [22mHuman flow[2m > [22mshows instructions for agent in human view[32m 3[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/home.test.tsx[2m > [22mHome[2m > [22mHuman flow[2m > [22mshows claim oversight step in human view[32m 3[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/home.test.tsx[2m > [22mHome[2m > [22mAgent flow[2m > [22mshows agent view when clicking agent button[32m 4[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/home.test.tsx[2m > [22mHome[2m > [22mAgent flow[2m > [22mhas back button to return to home from agent view[32m 4[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/home.test.tsx[2m > [22mHome[2m > [22mAgent flow[2m > [22mshows what happens next section[32m 2[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/home.test.tsx[2m > [22mHome[2m > [22mAgent flow[2m > [22mshows API base URL[32m 2[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/home.test.tsx[2m > [22mHome[2m > [22mNavigation[2m > [22mhas link to overseer auth page[32m 2[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/home.test.tsx[2m > [22mHome[2m > [22mNavigation[2m > [22mhas link to overseer dashboard[32m 3[2mms[22m[39m
[90mstderr[2m | test/unit/pages/agent-dashboard.test.tsx[2m > [22m[2mAgentDashboard[2m > [22m[2mAgent info display[2m > [22m[2mshows agent ID
[22m[39mWarning: Updating a style property during rerender (background) when a conflicting property is set (backgroundClip) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.
    at div
    at div
    at div
    at div
    at AgentDashboard (/Users/brotholomew/workdir/llms/agent-id/frontend/src/pages/AgentDashboard.tsx:9:77)
    at Router (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:6594:13)
    at BrowserRouter (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:9830:3)

[90mstderr[2m | test/unit/context/auth-context.test.tsx[2m > [22m[2mAuthContext[2m > [22m[2mloginAsOverseer[2m > [22m[2mhandles login failure
[22m[39mLogin failed: Error: Invalid credentials
    at ApiClient.request [90m(/Users/brotholomew/workdir/llms/agent-id/frontend/[39msrc/api/client.ts:70:13[90m)[39m
    at ApiClient.loginOverseer [90m(/Users/brotholomew/workdir/llms/agent-id/frontend/[39msrc/api/client.ts:125:20[90m)[39m
    at loginAsOverseer [90m(/Users/brotholomew/workdir/llms/agent-id/frontend/[39msrc/context/AuthContext.tsx:54:22[90m)[39m

[90mstderr[2m | test/unit/pages/agent-dashboard.test.tsx[2m > [22m[2mAgentDashboard[2m > [22m[2mAgent info display[2m > [22m[2mshows agent name
[22m[39mWarning: Updating a style property during rerender (background) when a conflicting property is set (backgroundClip) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.
    at div
    at div
    at div
    at div
    at AgentDashboard (/Users/brotholomew/workdir/llms/agent-id/frontend/src/pages/AgentDashboard.tsx:9:77)
    at Router (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:6594:13)
    at BrowserRouter (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:9830:3)

[90mstderr[2m | test/unit/pages/agent-dashboard.test.tsx[2m > [22m[2mAgentDashboard[2m > [22m[2mAgent info display[2m > [22m[2mshows agent description
[22m[39mWarning: Updating a style property during rerender (background) when a conflicting property is set (backgroundClip) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.
    at div
    at div
    at div
    at div
    at AgentDashboard (/Users/brotholomew/workdir/llms/agent-id/frontend/src/pages/AgentDashboard.tsx:9:77)
    at Router (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:6594:13)
    at BrowserRouter (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:9830:3)

[90mstderr[2m | test/unit/pages/agent-dashboard.test.tsx[2m > [22m[2mAgentDashboard[2m > [22m[2mAgent info display[2m > [22m[2mshows "No description" when description is null
[22m[39mWarning: Updating a style property during rerender (background) when a conflicting property is set (backgroundClip) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.
    at div
    at div
    at div
    at div
    at AgentDashboard (/Users/brotholomew/workdir/llms/agent-id/frontend/src/pages/AgentDashboard.tsx:9:77)
    at Router (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:6594:13)
    at BrowserRouter (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:9830:3)

 [32mâœ“[39m test/unit/pages/shadow-claim-payment.test.tsx[2m > [22mShadowClaimPayment[2m > [22mLoading state[2m > [22mshows loading state initially[32m 23[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/shadow-claim-payment.test.tsx[2m > [22mShadowClaimPayment[2m > [22mChallenge status loading[2m > [22mloads challenge status on mount[32m 9[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/shadow-claim-payment.test.tsx[2m > [22mShadowClaimPayment[2m > [22mChallenge status loading[2m > [22mshows error if challenge not found[32m 11[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/shadow-claim-payment.test.tsx[2m > [22mShadowClaimPayment[2m > [22mChallenge status loading[2m > [22mshows error if challenge expired[32m 28[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/shadow-claim-payment.test.tsx[2m > [22mShadowClaimPayment[2m > [22mChallenge status loading[2m > [22mredirects if challenge not in awaiting-payment status - initiated[32m 5[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/shadow-claim-payment.test.tsx[2m > [22mShadowClaimPayment[2m > [22mChallenge status loading[2m > [22mshows success state if challenge is already completed[32m 12[2mms[22m[39m
 [32mâœ“[39m test/unit/context/auth-context.test.tsx[2m > [22mAuthContext[2m > [22mInitial state[2m > [22mprovides correct initial state when not authenticated[32m 26[2mms[22m[39m
 [32mâœ“[39m test/unit/context/auth-context.test.tsx[2m > [22mAuthContext[2m > [22mInitial state[2m > [22mshows loading state initially[32m 2[2mms[22m[39m
 [32mâœ“[39m test/unit/context/auth-context.test.tsx[2m > [22mAuthContext[2m > [22mloginAsOverseer[2m > [22mupdates state when login succeeds[32m 23[2mms[22m[39m
[90mstderr[2m | test/unit/pages/agent-dashboard.test.tsx[2m > [22m[2mAgentDashboard[2m > [22m[2mOAuth history[2m > [22m[2mshows empty state when no OAuth history
[22m[39mWarning: Updating a style property during rerender (background) when a conflicting property is set (backgroundClip) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.
    at div
    at div
    at div
    at div
    at AgentDashboard (/Users/brotholomew/workdir/llms/agent-id/frontend/src/pages/AgentDashboard.tsx:9:77)
    at Router (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:6594:13)
    at BrowserRouter (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:9830:3)

 [32mâœ“[39m test/unit/pages/agent-dashboard.test.tsx[2m > [22mAgentDashboard[2m > [22mAgent info display[2m > [22mshows agent ID[32m 57[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/agent-dashboard.test.tsx[2m > [22mAgentDashboard[2m > [22mAgent info display[2m > [22mshows agent name[32m 23[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/agent-dashboard.test.tsx[2m > [22mAgentDashboard[2m > [22mAgent info display[2m > [22mshows agent description[32m 9[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/agent-dashboard.test.tsx[2m > [22mAgentDashboard[2m > [22mAgent info display[2m > [22mshows "No description" when description is null[32m 4[2mms[22m[39m
[90mstderr[2m | test/unit/pages/registered-clients.test.tsx[2m > [22m[2mRegisteredClients[2m > [22m[2mLoading state[2m > [22m[2mshows loading state initially
[22m[39mWarning: An update to RegisteredClients inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at RegisteredClients (/Users/brotholomew/workdir/llms/agent-id/frontend/src/pages/RegisteredClients.tsx:7:67)
    at AuthProvider (/Users/brotholomew/workdir/llms/agent-id/frontend/src/context/AuthContext.tsx:7:25)
    at Router (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:6594:13)
    at BrowserRouter (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:9830:3)
    at wrapper (/Users/brotholomew/workdir/llms/agent-id/frontend/test/utils/render-helpers.tsx:43:17)
Warning: An update to RegisteredClients inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at RegisteredClients (/Users/brotholomew/workdir/llms/agent-id/frontend/src/pages/RegisteredClients.tsx:7:67)
    at AuthProvider (/Users/brotholomew/workdir/llms/agent-id/frontend/src/context/AuthContext.tsx:7:25)
    at Router (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:6594:13)
    at BrowserRouter (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:9830:3)
    at wrapper (/Users/brotholomew/workdir/llms/agent-id/frontend/test/utils/render-helpers.tsx:43:17)

 [32mâœ“[39m test/unit/pages/subscription-cancelled.test.tsx[2m > [22mSubscriptionCancelled[2m > [22mInitial render[2m > [22mrenders cancellation title[32m 25[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/subscription-cancelled.test.tsx[2m > [22mSubscriptionCancelled[2m > [22mInitial render[2m > [22mrenders cancellation icon[32m 4[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/subscription-cancelled.test.tsx[2m > [22mSubscriptionCancelled[2m > [22mInitial render[2m > [22mrenders cancellation message[32m 2[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/subscription-cancelled.test.tsx[2m > [22mSubscriptionCancelled[2m > [22mInitial render[2m > [22mexplains that subscription was not changed[32m 2[2mms[22m[39m
[90mstderr[2m | test/unit/pages/agent-dashboard.test.tsx[2m > [22m[2mAgentDashboard[2m > [22m[2mOAuth history[2m > [22m[2mdisplays OAuth history entries
[22m[39mWarning: Updating a style property during rerender (background) when a conflicting property is set (backgroundClip) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.
    at div
    at div
    at div
    at div
    at AgentDashboard (/Users/brotholomew/workdir/llms/agent-id/frontend/src/pages/AgentDashboard.tsx:9:77)
    at Router (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:6594:13)
    at BrowserRouter (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:9830:3)

 [32mâœ“[39m test/unit/pages/shadow-claim.test.tsx[2m > [22mShadowClaim[2m > [22mInitial loading state[2m > [22mshows loading state during initiation[32m 38[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/shadow-claim.test.tsx[2m > [22mShadowClaim[2m > [22mSuccessful initiation[2m > [22mshows challenge details after initiation[32m 18[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/shadow-claim.test.tsx[2m > [22mShadowClaim[2m > [22mSuccessful initiation[2m > [22mshows countdown timer[32m 22[2mms[22m[39m
[90mstderr[2m | test/unit/pages/shadow-claim.test.tsx[2m > [22m[2mShadowClaim[2m > [22m[2mError handling[2m > [22m[2mshows network error with retry option
[22m[39mFailed to initiate shadow claim: TypeError: Failed to fetch
    at createNetworkError [90m(file:///Users/brotholomew/workdir/llms/agent-id/frontend/[39mnode_modules/[4m@mswjs[24m/interceptors/lib/node/fetch-G1DVwDKG.mjs:13:39[90m)[39m
    at Object.respondWith [90m(file:///Users/brotholomew/workdir/llms/agent-id/frontend/[39mnode_modules/[4m@mswjs[24m/interceptors/lib/node/fetch-G1DVwDKG.mjs:196:30[90m)[39m
    at RequestController.respondWith [90m(file:///Users/brotholomew/workdir/llms/agent-id/frontend/[39mnode_modules/[4m@mswjs[24m/interceptors/lib/node/fetchUtils-CoU35g3M.mjs:219:15[90m)[39m
    at _Emitter.<anonymous> [90m(file:///Users/brotholomew/workdir/llms/agent-id/frontend/[39mnode_modules/[4mmsw[24m/lib/node/index.mjs:65:22[90m)[39m
[90m    at runNextTicks (node:internal/process/task_queues:65:5)[39m
[90m    at processTimers (node:internal/timers:526:9)[39m
    at emitAsync [90m(file:///Users/brotholomew/workdir/llms/agent-id/frontend/[39mnode_modules/[4m@mswjs[24m/interceptors/lib/node/handleRequest-Y97UwBbF.mjs:33:36[90m)[39m
    at [90mfile:///Users/brotholomew/workdir/llms/agent-id/frontend/[39mnode_modules/[4m@mswjs[24m/interceptors/lib/node/handleRequest-Y97UwBbF.mjs:144:3
    at until [90m(file:///Users/brotholomew/workdir/llms/agent-id/frontend/[39mnode_modules/[4m@open-draft[24m/until/lib/index.mjs:4:18[90m)[39m
    at handleRequest [90m(file:///Users/brotholomew/workdir/llms/agent-id/frontend/[39mnode_modules/[4m@mswjs[24m/interceptors/lib/node/handleRequest-Y97UwBbF.mjs:138:17[90m)[39m {
  cause: Response {
    status: [33m0[39m,
    statusText: [32m''[39m,
    headers: Headers {},
    body: [1mnull[22m,
    bodyUsed: [33mfalse[39m,
    ok: [33mfalse[39m,
    redirected: [33mfalse[39m,
    type: [32m'error'[39m,
    url: [32m''[39m
  }
}

 [32mâœ“[39m test/unit/pages/subscription-cancelled.test.tsx[2m > [22mSubscriptionCancelled[2m > [22mButtons[2m > [22mhas return to subscription button[32m 125[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/subscription-cancelled.test.tsx[2m > [22mSubscriptionCancelled[2m > [22mButtons[2m > [22mhas go to dashboard button[32m 27[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/subscription-cancelled.test.tsx[2m > [22mSubscriptionCancelled[2m > [22mLayout[2m > [22mrenders in a centered card layout[32m 2[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/subscription-cancelled.test.tsx[2m > [22mSubscriptionCancelled[2m > [22mLayout[2m > [22mrenders with proper styling classes[32m 1[2mms[22m[39m
[90mstderr[2m | test/unit/pages/shadow-claim.test.tsx[2m > [22m[2mShadowClaim[2m > [22m[2mError handling[2m > [22m[2mshows already claimed error
[22m[39mFailed to initiate shadow claim: Error: Agent already claimed by another overseer
    at ApiClient.request [90m(/Users/brotholomew/workdir/llms/agent-id/frontend/[39msrc/api/client.ts:70:13[90m)[39m
    at initiateClaim [90m(/Users/brotholomew/workdir/llms/agent-id/frontend/[39msrc/pages/ShadowClaim.tsx:60:26[90m)[39m

[90mstderr[2m | test/unit/pages/shadow-claim.test.tsx[2m > [22m[2mShadowClaim[2m > [22m[2mError handling[2m > [22m[2mshows retry button for network error
[22m[39mFailed to initiate shadow claim: TypeError: Failed to fetch
    at createNetworkError [90m(file:///Users/brotholomew/workdir/llms/agent-id/frontend/[39mnode_modules/[4m@mswjs[24m/interceptors/lib/node/fetch-G1DVwDKG.mjs:13:39[90m)[39m
    at Object.respondWith [90m(file:///Users/brotholomew/workdir/llms/agent-id/frontend/[39mnode_modules/[4m@mswjs[24m/interceptors/lib/node/fetch-G1DVwDKG.mjs:196:30[90m)[39m
    at RequestController.respondWith [90m(file:///Users/brotholomew/workdir/llms/agent-id/frontend/[39mnode_modules/[4m@mswjs[24m/interceptors/lib/node/fetchUtils-CoU35g3M.mjs:219:15[90m)[39m
    at _Emitter.<anonymous> [90m(file:///Users/brotholomew/workdir/llms/agent-id/frontend/[39mnode_modules/[4mmsw[24m/lib/node/index.mjs:65:22[90m)[39m
    at emitAsync [90m(file:///Users/brotholomew/workdir/llms/agent-id/frontend/[39mnode_modules/[4m@mswjs[24m/interceptors/lib/node/handleRequest-Y97UwBbF.mjs:33:36[90m)[39m
    at [90mfile:///Users/brotholomew/workdir/llms/agent-id/frontend/[39mnode_modules/[4m@mswjs[24m/interceptors/lib/node/handleRequest-Y97UwBbF.mjs:144:3
    at until [90m(file:///Users/brotholomew/workdir/llms/agent-id/frontend/[39mnode_modules/[4m@open-draft[24m/until/lib/index.mjs:4:18[90m)[39m
    at handleRequest [90m(file:///Users/brotholomew/workdir/llms/agent-id/frontend/[39mnode_modules/[4m@mswjs[24m/interceptors/lib/node/handleRequest-Y97UwBbF.mjs:138:17[90m)[39m
    at globalThis.fetch [90m(file:///Users/brotholomew/workdir/llms/agent-id/frontend/[39mnode_modules/[4m@mswjs[24m/interceptors/lib/node/fetch-G1DVwDKG.mjs:242:4[90m)[39m
    at ApiClient.request [90m(/Users/brotholomew/workdir/llms/agent-id/frontend/[39msrc/api/client.ts:62:22[90m)[39m {
  cause: Response {
    status: [33m0[39m,
    statusText: [32m''[39m,
    headers: Headers {},
    body: [1mnull[22m,
    bodyUsed: [33mfalse[39m,
    ok: [33mfalse[39m,
    redirected: [33mfalse[39m,
    type: [32m'error'[39m,
    url: [32m''[39m
  }
}

[90mstderr[2m | test/unit/pages/agent-dashboard.test.tsx[2m > [22m[2mAgentDashboard[2m > [22m[2mOAuth history[2m > [22m[2mshows OAuth count in stats
[22m[39mWarning: Updating a style property during rerender (background) when a conflicting property is set (backgroundClip) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.
    at div
    at div
    at div
    at div
    at AgentDashboard (/Users/brotholomew/workdir/llms/agent-id/frontend/src/pages/AgentDashboard.tsx:9:77)
    at Router (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:6594:13)
    at BrowserRouter (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:9830:3)

[90mstderr[2m | test/unit/pages/agent-dashboard.test.tsx[2m > [22m[2mAgentDashboard[2m > [22m[2mSubscription display[2m > [22m[2mshows FREE tier subscription
[22m[39mWarning: Updating a style property during rerender (background) when a conflicting property is set (backgroundClip) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.
    at div
    at div
    at div
    at div
    at AgentDashboard (/Users/brotholomew/workdir/llms/agent-id/frontend/src/pages/AgentDashboard.tsx:9:77)
    at Router (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:6594:13)
    at BrowserRouter (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:9830:3)

 [32mâœ“[39m test/unit/pages/subscription-management.test.tsx[2m > [22mSubscriptionManagement[2m > [22mLoading state[2m > [22mshows loading state initially[32m 30[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/subscription-management.test.tsx[2m > [22mSubscriptionManagement[2m > [22mCurrent subscription display[2m > [22mshows subscription tier[32m 41[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/subscription-management.test.tsx[2m > [22mSubscriptionManagement[2m > [22mCurrent subscription display[2m > [22mshows usage stats[32m 18[2mms[22m[39m
[90mstderr[2m | test/unit/context/auth-context.test.tsx[2m > [22m[2mAuthContext[2m > [22m[2mregisterAsOverseer[2m > [22m[2mhandles registration failure
[22m[39mRegistration failed: Error: Email already exists
    at ApiClient.request [90m(/Users/brotholomew/workdir/llms/agent-id/frontend/[39msrc/api/client.ts:70:13[90m)[39m
    at ApiClient.registerOverseer [90m(/Users/brotholomew/workdir/llms/agent-id/frontend/[39msrc/api/client.ts:114:20[90m)[39m
    at registerAsOverseer [90m(/Users/brotholomew/workdir/llms/agent-id/frontend/[39msrc/context/AuthContext.tsx:67:22[90m)[39m

 [32mâœ“[39m test/unit/pages/overseer-dashboard.test.tsx[2m > [22mOverseerDashboard[2m > [22mLoading state[2m > [22mshows loading state initially[32m 39[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/overseer-dashboard.test.tsx[2m > [22mOverseerDashboard[2m > [22mAgent list[2m > [22mdisplays claimed agents[32m 26[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/overseer-dashboard.test.tsx[2m > [22mOverseerDashboard[2m > [22mAgent list[2m > [22mshows empty state when no agents claimed[32m 17[2mms[22m[39m
[90mstderr[2m | test/unit/pages/agent-dashboard.test.tsx[2m > [22m[2mAgentDashboard[2m > [22m[2mSubscription display[2m > [22m[2mshows PRO tier subscription
[22m[39mWarning: Updating a style property during rerender (background) when a conflicting property is set (backgroundClip) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.
    at div
    at div
    at div
    at div
    at AgentDashboard (/Users/brotholomew/workdir/llms/agent-id/frontend/src/pages/AgentDashboard.tsx:9:77)
    at Router (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:6594:13)
    at BrowserRouter (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:9830:3)

 [32mâœ“[39m test/unit/pages/agent-dashboard.test.tsx[2m > [22mAgentDashboard[2m > [22mOAuth history[2m > [22mshows empty state when no OAuth history[32m 10[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/agent-dashboard.test.tsx[2m > [22mAgentDashboard[2m > [22mOAuth history[2m > [22mdisplays OAuth history entries[32m 24[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/agent-dashboard.test.tsx[2m > [22mAgentDashboard[2m > [22mOAuth history[2m > [22mshows OAuth count in stats[32m 48[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/agent-dashboard.test.tsx[2m > [22mAgentDashboard[2m > [22mSubscription display[2m > [22mshows FREE tier subscription[32m 11[2mms[22m[39m
[90mstderr[2m | test/unit/pages/agent-dashboard.test.tsx[2m > [22m[2mAgentDashboard[2m > [22m[2mSubscription display[2m > [22m[2mshows billing period end date
[22m[39mWarning: Updating a style property during rerender (background) when a conflicting property is set (backgroundClip) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.
    at div
    at div
    at div
    at div
    at AgentDashboard (/Users/brotholomew/workdir/llms/agent-id/frontend/src/pages/AgentDashboard.tsx:9:77)
    at Router (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:6594:13)
    at BrowserRouter (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:9830:3)

[90mstderr[2m | test/unit/pages/agent-dashboard.test.tsx[2m > [22m[2mAgentDashboard[2m > [22m[2mSubscription display[2m > [22m[2mshows expired subscription message
[22m[39mWarning: Updating a style property during rerender (background) when a conflicting property is set (backgroundClip) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.
    at div
    at div
    at div
    at div
    at AgentDashboard (/Users/brotholomew/workdir/llms/agent-id/frontend/src/pages/AgentDashboard.tsx:9:77)
    at Router (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:6594:13)
    at BrowserRouter (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:9830:3)

 [32mâœ“[39m test/unit/pages/shadow-claim-payment.test.tsx[2m > [22mShadowClaimPayment[2m > [22mPayment UI[2m > [22mshows payment amount and details when status is awaiting-payment[32m 15[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/shadow-claim-payment.test.tsx[2m > [22mShadowClaimPayment[2m > [22mPayment UI[2m > [22mshows tier capabilities[32m 7[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/overseer-auth.test.tsx[2m > [22mOverseerAuth[2m > [22mInitial render[2m > [22mrenders login tab by default[32m 159[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/overseer-auth.test.tsx[2m > [22mOverseerAuth[2m > [22mInitial render[2m > [22mshows provider selection[32m 4[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/overseer-auth.test.tsx[2m > [22mOverseerAuth[2m > [22mInitial render[2m > [22mshows email provider as available[32m 2[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/overseer-auth.test.tsx[2m > [22mOverseerAuth[2m > [22mProvider selection[2m > [22mshows login form when email provider is selected[32m 74[2mms[22m[39m
[90mstderr[2m | test/unit/pages/agent-dashboard.test.tsx[2m > [22m[2mAgentDashboard[2m > [22m[2mSubscription display[2m > [22m[2mshows grace period message
[22m[39mWarning: Updating a style property during rerender (background) when a conflicting property is set (backgroundClip) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.
    at div
    at div
    at div
    at div
    at AgentDashboard (/Users/brotholomew/workdir/llms/agent-id/frontend/src/pages/AgentDashboard.tsx:9:77)
    at Router (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:6594:13)
    at BrowserRouter (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:9830:3)

 [32mâœ“[39m test/unit/pages/registered-clients.test.tsx[2m > [22mRegisteredClients[2m > [22mLoading state[2m > [22mshows loading state initially[32m 15[2mms[22m[39m
 [32mâœ“[39m test/unit/context/auth-context.test.tsx[2m > [22mAuthContext[2m > [22mloginAsOverseer[2m > [22mhandles login failure[32m 125[2mms[22m[39m
 [32mâœ“[39m test/unit/context/auth-context.test.tsx[2m > [22mAuthContext[2m > [22mregisterAsOverseer[2m > [22mupdates state when registration succeeds[32m 10[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/shadow-claim.test.tsx[2m > [22mShadowClaim[2m > [22mSuccessful initiation[2m > [22mshows copy buttons for endpoint and body[32m 28[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/shadow-claim.test.tsx[2m > [22mShadowClaim[2m > [22mError handling[2m > [22mshows network error with retry option[32m 7[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/shadow-claim.test.tsx[2m > [22mShadowClaim[2m > [22mError handling[2m > [22mshows already claimed error[32m 17[2mms[22m[39m
 [2m[90mâ†“[39m[22m test/unit/pages/shadow-claim.test.tsx[2m > [22mShadowClaim[2m > [22mError handling[2m > [22mshows not found error
 [32mâœ“[39m test/unit/pages/subscription-management.test.tsx[2m > [22mSubscriptionManagement[2m > [22mCurrent subscription display[2m > [22mshows billing period end date[32m 34[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/subscription-management.test.tsx[2m > [22mSubscriptionManagement[2m > [22mSubscription status variations[2m > [22mshows "Renews on" for active subscription with will_renew: true[32m 8[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/subscription-management.test.tsx[2m > [22mSubscriptionManagement[2m > [22mSubscription status variations[2m > [22mshows "Cancels on" for subscription with will_renew: false[32m 18[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/subscription-management.test.tsx[2m > [22mSubscriptionManagement[2m > [22mSubscription status variations[2m > [22mshows "Payment overdue" for past_due status[32m 20[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/subscription-management.test.tsx[2m > [22mSubscriptionManagement[2m > [22mSubscription status variations[2m > [22mshows "Paused" for paused status[32m 12[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/subscription-management.test.tsx[2m > [22mSubscriptionManagement[2m > [22mSubscription status variations[2m > [22mshows grace period message[32m 17[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/subscription-management.test.tsx[2m > [22mSubscriptionManagement[2m > [22mSubscription status variations[2m > [22mshows expired subscription message[32m 16[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/overseer-dashboard.test.tsx[2m > [22mOverseerDashboard[2m > [22mAgent list[2m > [22mshows agent stats (OAuth count)[32m 17[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/overseer-dashboard.test.tsx[2m > [22mOverseerDashboard[2m > [22mAgent list[2m > [22mdisplays agent ID with copy button[32m 23[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/overseer-dashboard.test.tsx[2m > [22mOverseerDashboard[2m > [22mAgent claim flow[2m > [22mshows claim input field[32m 9[2mms[22m[39m
[90mstderr[2m | test/unit/pages/agent-dashboard.test.tsx[2m > [22m[2mAgentDashboard[2m > [22m[2mShadow upgrade[2m > [22m[2mshows upgrade button for FREE tier agents
[22m[39mWarning: Updating a style property during rerender (background) when a conflicting property is set (backgroundClip) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.
    at div
    at div
    at div
    at div
    at AgentDashboard (/Users/brotholomew/workdir/llms/agent-id/frontend/src/pages/AgentDashboard.tsx:9:77)
    at Router (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:6594:13)
    at BrowserRouter (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:9830:3)

 [32mâœ“[39m test/unit/pages/agent-dashboard.test.tsx[2m > [22mAgentDashboard[2m > [22mSubscription display[2m > [22mshows PRO tier subscription[32m 28[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/agent-dashboard.test.tsx[2m > [22mAgentDashboard[2m > [22mSubscription display[2m > [22mshows billing period end date[32m 5[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/agent-dashboard.test.tsx[2m > [22mAgentDashboard[2m > [22mSubscription display[2m > [22mshows expired subscription message[32m 6[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/agent-dashboard.test.tsx[2m > [22mAgentDashboard[2m > [22mSubscription display[2m > [22mshows grace period message[32m 8[2mms[22m[39m
[90mstderr[2m | test/unit/pages/agent-dashboard.test.tsx[2m > [22m[2mAgentDashboard[2m > [22m[2mShadow upgrade[2m > [22m[2mhides upgrade button for paid tier agents
[22m[39mWarning: Updating a style property during rerender (background) when a conflicting property is set (backgroundClip) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.
    at div
    at div
    at div
    at div
    at AgentDashboard (/Users/brotholomew/workdir/llms/agent-id/frontend/src/pages/AgentDashboard.tsx:9:77)
    at Router (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:6594:13)
    at BrowserRouter (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:9830:3)

 [32mâœ“[39m test/unit/context/auth-context.test.tsx[2m > [22mAuthContext[2m > [22mregisterAsOverseer[2m > [22mhandles registration failure[32m 113[2mms[22m[39m
 [32mâœ“[39m test/unit/context/auth-context.test.tsx[2m > [22mAuthContext[2m > [22mlogout[2m > [22mclears state when logout is called[32m 11[2mms[22m[39m
 [32mâœ“[39m test/unit/context/auth-context.test.tsx[2m > [22mAuthContext[2m > [22mSession restoration[2m > [22mrestores overseer session from localStorage on mount[32m 6[2mms[22m[39m
 [32mâœ“[39m test/unit/context/auth-context.test.tsx[2m > [22mAuthContext[2m > [22mSession restoration[2m > [22mrestores agent session from localStorage on mount[32m 4[2mms[22m[39m
 [32mâœ“[39m test/unit/context/auth-context.test.tsx[2m > [22mAuthContext[2m > [22mSession restoration[2m > [22mclears session if session validation fails[32m 9[2mms[22m[39m
 [32mâœ“[39m test/unit/context/auth-context.test.tsx[2m > [22mAuthContext[2m > [22museAuth hook[2m > [22mthrows error when used outside AuthProvider[32m 1[2mms[22m[39m
 [32mâœ“[39m test/unit/context/auth-context.test.tsx[2m > [22mAuthContext[2m > [22museAuth hook[2m > [22mprovides correct context values[32m 4[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/shadow-claim-payment.test.tsx[2m > [22mShadowClaimPayment[2m > [22mPayment UI[2m > [22mshows cancel button[32m 114[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/shadow-claim-payment.test.tsx[2m > [22mShadowClaimPayment[2m > [22mPaddle checkout[2m > [22mopens Paddle checkout when pay button clicked[32m 86[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/registered-clients.test.tsx[2m > [22mRegisteredClients[2m > [22mEmpty state[2m > [22mshows empty state when no clients exist[32m 133[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/registered-clients.test.tsx[2m > [22mRegisteredClients[2m > [22mClient list[2m > [22mdisplays list of registered clients[32m 14[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/registered-clients.test.tsx[2m > [22mRegisteredClients[2m > [22mClient list[2m > [22mshows client details including redirect URIs[32m 6[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/registered-clients.test.tsx[2m > [22mRegisteredClients[2m > [22mClient list[2m > [22mdisplays table with correct headers[32m 11[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/registered-clients.test.tsx[2m > [22mRegisteredClients[2m > [22mClient registration[2m > [22mshows registration form when clicking Register New Client[32m 55[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/overseer-auth.test.tsx[2m > [22mOverseerAuth[2m > [22mProvider selection[2m > [22mhas back button to return to providers[32m 71[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/overseer-auth.test.tsx[2m > [22mOverseerAuth[2m > [22mForm validation[2m > [22mrequires email field[32m 39[2mms[22m[39m
[90mstderr[2m | test/unit/pages/agent-dashboard.test.tsx[2m > [22m[2mAgentDashboard[2m > [22m[2mShadow upgrade[2m > [22m[2mshows upgrade button for FREE tier with inactive subscription
[22m[39mWarning: Updating a style property during rerender (background) when a conflicting property is set (backgroundClip) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.
    at div
    at div
    at div
    at div
    at AgentDashboard (/Users/brotholomew/workdir/llms/agent-id/frontend/src/pages/AgentDashboard.tsx:9:77)
    at Router (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:6594:13)
    at BrowserRouter (file:///Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-router/dist/development/chunk-JZWAC4HX.mjs:9830:3)

 [32mâœ“[39m test/unit/pages/agent-dashboard.test.tsx[2m > [22mAgentDashboard[2m > [22mShadow upgrade[2m > [22mshows upgrade button for FREE tier agents[32m 97[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/agent-dashboard.test.tsx[2m > [22mAgentDashboard[2m > [22mShadow upgrade[2m > [22mhides upgrade button for paid tier agents[32m 3[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/agent-dashboard.test.tsx[2m > [22mAgentDashboard[2m > [22mShadow upgrade[2m > [22mshows upgrade button for FREE tier with inactive subscription[32m 47[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/shadow-claim.test.tsx[2m > [22mShadowClaim[2m > [22mError handling[2m > [22mshows retry button for network error[32m 126[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/shadow-claim.test.tsx[2m > [22mShadowClaim[2m > [22mManual status check[2m > [22mhas check status button[32m 90[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/subscription-management.test.tsx[2m > [22mSubscriptionManagement[2m > [22mUpgrade flow[2m > [22mshows upgrade options for FREE tier[32m 28[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/overseer-auth.test.tsx[2m > [22mOverseerAuth[2m > [22mForm validation[2m > [22mrequires password field[32m 47[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/overseer-auth.test.tsx[2m > [22mOverseerAuth[2m > [22mForm validation[2m > [22mshows name field for signup[32m 81[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/shadow-claim-payment.test.tsx[2m > [22mShadowClaimPayment[2m > [22mPaddle checkout[2m > [22mpasses correct price ID to Paddle[32m 51[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/shadow-claim-payment.test.tsx[2m > [22mShadowClaimPayment[2m > [22mPaddle checkout[2m > [22mpasses customer email to Paddle[32m 33[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/shadow-claim-payment.test.tsx[2m > [22mShadowClaimPayment[2m > [22mPaddle checkout[2m > [22mpasses custom data to Paddle[32m 32[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/shadow-claim-payment.test.tsx[2m > [22mShadowClaimPayment[2m > [22mError handling[2m > [22mshows error when Paddle is not loaded and button clicked[32m 17[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/shadow-claim-payment.test.tsx[2m > [22mShadowClaimPayment[2m > [22mError handling[2m > [22mshows error when missing price ID[32m 20[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/shadow-claim-payment.test.tsx[2m > [22mShadowClaimPayment[2m > [22mError handling[2m > [22mshows error when challenge ID is missing[32m 3[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/shadow-claim-payment.test.tsx[2m > [22mShadowClaimPayment[2m > [22mNavigation[2m > [22mhas cancel button that shows info when clicked[32m 25[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/shadow-claim-payment.test.tsx[2m > [22mShadowClaimPayment[2m > [22mNavigation[2m > [22mshows go to dashboard button in success state[32m 19[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/subscription-management.test.tsx[2m > [22mSubscriptionManagement[2m > [22mUpgrade flow[2m > [22mopens upgrade modal when tier selected[32m 110[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/subscription-management.test.tsx[2m > [22mSubscriptionManagement[2m > [22mUpgrade flow[2m > [22mcalls Paddle.Checkout.open with correct parameters[32m 91[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/registered-clients.test.tsx[2m > [22mRegisteredClients[2m > [22mClient registration[2m > [22mcan cancel registration form[32m 104[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/shadow-claim.test.tsx[2m > [22mShadowClaim[2m > [22mManual status check[2m > [22mchecks status when button clicked[32m 59[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/shadow-claim.test.tsx[2m > [22mShadowClaim[2m > [22mCancel action[2m > [22mshows cancel claim button[32m 43[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/overseer-dashboard.test.tsx[2m > [22mOverseerDashboard[2m > [22mAgent claim flow[2m > [22minitiates claim with agent UUID[32m 224[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/shadow-claim.test.tsx[2m > [22mShadowClaim[2m > [22mCancel action[2m > [22mshows cancellation info when cancel clicked[32m 76[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/shadow-claim.test.tsx[2m > [22mShadowClaim[2m > [22mCopy functionality[2m > [22mshows copy buttons and copies endpoint URL when clicked[32m 38[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/subscription-management.test.tsx[2m > [22mSubscriptionManagement[2m > [22mUpgrade flow[2m > [22mshows highest tier message for PREMIUM users[32m 7[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/subscription-management.test.tsx[2m > [22mSubscriptionManagement[2m > [22mCancel flow[2m > [22mshows cancel button for active paid subscription[32m 12[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/subscription-management.test.tsx[2m > [22mSubscriptionManagement[2m > [22mCancel flow[2m > [22mopens cancel confirmation modal[32m 42[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/subscription-management.test.tsx[2m > [22mSubscriptionManagement[2m > [22mCancel flow[2m > [22mcancels subscription after confirmation[32m 48[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/subscription-management.test.tsx[2m > [22mSubscriptionManagement[2m > [22mCancel flow[2m > [22mshows renew button for scheduled cancellation[32m 12[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/subscription-management.test.tsx[2m > [22mSubscriptionManagement[2m > [22mCancel flow[2m > [22mdoes not show cancel button for FREE tier[32m 3[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/subscription-management.test.tsx[2m > [22mSubscriptionManagement[2m > [22mError handling[2m > [22mshows error message on API failure[32m 4[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/subscription-management.test.tsx[2m > [22mSubscriptionManagement[2m > [22mError handling[2m > [22mshows retry button on error[32m 9[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/overseer-dashboard.test.tsx[2m > [22mOverseerDashboard[2m > [22mAgent claim flow[2m > [22mshows error when agent not found[32m 99[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/overseer-dashboard.test.tsx[2m > [22mOverseerDashboard[2m > [22mAgent claim flow[2m > [22mshows error when agent already claimed[32m 80[2mms[22m[39m
Error: useAuth must be used within an AuthProvider
    at Module.useAuth (/Users/brotholomew/workdir/llms/agent-id/frontend/src/context/AuthContext.tsx:114:11)
    at TestComponent (/Users/brotholomew/workdir/llms/agent-id/frontend/test/unit/auth-context.test.tsx:21:97)
    at renderWithHooks (/Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
Error: useAuth must be used within an AuthProvider
    at Module.useAuth (/Users/brotholomew/workdir/llms/agent-id/frontend/src/context/AuthContext.tsx:114:11)
    at TestComponent (/Users/brotholomew/workdir/llms/agent-id/frontend/test/unit/auth-context.test.tsx:21:97)
    at renderWithHooks (/Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
    at mountIndeterminateComponent (/Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-dom/cjs/react-dom.development.js:20103:13)
    at beginWork (/Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-dom/cjs/react-dom.development.js:21626:16)
    at HTMLUnknownElement.callCallback (/Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
    at HTMLUnknownElement.callTheUserObjectsOperation (/Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/jsdom/lib/generated/idl/EventListener.js:26:30)
    at innerInvokeEventListeners (/Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:360:16)
    at invokeEventListeners (/Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:296:3)
    at HTMLUnknownElementImpl._dispatch (/Users/brotholomew/workdir/llms/agent-id/frontend/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:243:9)
 [32mâœ“[39m test/unit/auth-context.test.tsx[2m > [22mAuthContext[2m > [22mInitial state[2m > [22mprovides correct initial state when not authenticated[32m 14[2mms[22m[39m
 [32mâœ“[39m test/unit/auth-context.test.tsx[2m > [22mAuthContext[2m > [22mInitial state[2m > [22mshows loading state initially[32m 2[2mms[22m[39m
 [32mâœ“[39m test/unit/auth-context.test.tsx[2m > [22mAuthContext[2m > [22mloginAsOverseer[2m > [22mupdates state when login succeeds[32m 11[2mms[22m[39m
 [32mâœ“[39m test/unit/auth-context.test.tsx[2m > [22mAuthContext[2m > [22mregisterAsOverseer[2m > [22mupdates state when registration succeeds[32m 6[2mms[22m[39m
 [32mâœ“[39m test/unit/auth-context.test.tsx[2m > [22mAuthContext[2m > [22mlogout[2m > [22mclears state when logout is called[32m 4[2mms[22m[39m
 [32mâœ“[39m test/unit/auth-context.test.tsx[2m > [22mAuthContext[2m > [22mSession restoration[2m > [22mrestores session from localStorage on mount[32m 5[2mms[22m[39m
 [32mâœ“[39m test/unit/auth-context.test.tsx[2m > [22mAuthContext[2m > [22mSession restoration[2m > [22mclears session if getOverseerMe fails[32m 3[2mms[22m[39m
 [32mâœ“[39m test/unit/auth-context.test.tsx[2m > [22mAuthContext[2m > [22museAuth hook[2m > [22mthrows error when used outside AuthProvider[32m 7[2mms[22m[39m
[90mstderr[2m | test/unit/pages/subscription-success.test.tsx
[22m[39mFailed to refresh subscription: Error: Mock not configured - use server.use() to override
    at ApiClient.request [90m(/Users/brotholomew/workdir/llms/agent-id/frontend/[39msrc/api/client.ts:70:13[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at refreshSubscription [90m(/Users/brotholomew/workdir/llms/agent-id/frontend/[39msrc/pages/SubscriptionSuccess.tsx:16:9[90m)[39m

[90mstderr[2m | test/unit/pages/subscription-success.test.tsx
[22m[39mFailed to refresh subscription: Error: Mock not configured - use server.use() to override
    at ApiClient.request [90m(/Users/brotholomew/workdir/llms/agent-id/frontend/[39msrc/api/client.ts:70:13[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at refreshSubscription [90m(/Users/brotholomew/workdir/llms/agent-id/frontend/[39msrc/pages/SubscriptionSuccess.tsx:16:9[90m)[39m

[90mstderr[2m | test/unit/pages/subscription-success.test.tsx
[22m[39mFailed to refresh subscription: Error: Mock not configured - use server.use() to override
    at ApiClient.request [90m(/Users/brotholomew/workdir/llms/agent-id/frontend/[39msrc/api/client.ts:70:13[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:105:5)[39m
    at refreshSubscription [90m(/Users/brotholomew/workdir/llms/agent-id/frontend/[39msrc/pages/SubscriptionSuccess.tsx:16:9[90m)[39m

 [32mâœ“[39m test/unit/pages/subscription-success.test.tsx[2m > [22mSubscriptionSuccess[2m > [22mInitial render[2m > [22mrenders success title[32m 44[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/subscription-success.test.tsx[2m > [22mSubscriptionSuccess[2m > [22mInitial render[2m > [22mrenders success icon[32m 6[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/subscription-success.test.tsx[2m > [22mSubscriptionSuccess[2m > [22mInitial render[2m > [22mrenders confirmation message[32m 8[2mms[22m[39m
 [32mâœ“[39m test/unit/components/header.test.tsx[2m > [22mHeader[2m > [22mWhen not authenticated[2m > [22mrenders logo[32m 14[2mms[22m[39m
 [32mâœ“[39m test/unit/components/header.test.tsx[2m > [22mHeader[2m > [22mWhen not authenticated[2m > [22mrenders overseer login link when not authenticated[32m 2[2mms[22m[39m
 [32mâœ“[39m test/unit/components/header.test.tsx[2m > [22mHeader[2m > [22mWhen not authenticated[2m > [22mdoes not render dashboard link when not authenticated[32m 2[2mms[22m[39m
 [32mâœ“[39m test/unit/components/header.test.tsx[2m > [22mHeader[2m > [22mWhen not authenticated[2m > [22mdoes not render logout button when not authenticated[32m 1[2mms[22m[39m
 [32mâœ“[39m test/unit/components/header.test.tsx[2m > [22mHeader[2m > [22mWhen authenticated as overseer[2m > [22mrenders dashboard link[32m 2[2mms[22m[39m
 [32mâœ“[39m test/unit/components/header.test.tsx[2m > [22mHeader[2m > [22mWhen authenticated as overseer[2m > [22mrenders user name[32m 1[2mms[22m[39m
 [32mâœ“[39m test/unit/components/header.test.tsx[2m > [22mHeader[2m > [22mWhen authenticated as overseer[2m > [22mrenders logout button[32m 1[2mms[22m[39m
 [32mâœ“[39m test/unit/components/header.test.tsx[2m > [22mHeader[2m > [22mWhen authenticated as overseer[2m > [22mdoes not render login link[32m 1[2mms[22m[39m
 [32mâœ“[39m test/unit/components/header.test.tsx[2m > [22mHeader[2m > [22mWhen authenticated as overseer[2m > [22mcalls logout when logout button is clicked[32m 3[2mms[22m[39m
 [32mâœ“[39m test/unit/components/header.test.tsx[2m > [22mHeader[2m > [22mWhen authenticated as agent[2m > [22mrenders dashboard link for agent[32m 1[2mms[22m[39m
 [32mâœ“[39m test/unit/components/header.test.tsx[2m > [22mHeader[2m > [22mWhen authenticated as agent[2m > [22mrenders agent name[32m 1[2mms[22m[39m
 [32mâœ“[39m test/unit/components/header.test.tsx[2m > [22mHeader[2m > [22mWhen authenticated as agent[2m > [22mrenders logout button[32m 1[2mms[22m[39m
 [32mâœ“[39m test/unit/components/header.test.tsx[2m > [22mHeader[2m > [22mLoading state[2m > [22mrenders logo while loading[32m 1[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/overseer-dashboard.test.tsx[2m > [22mOverseerDashboard[2m > [22mAgent claim flow[2m > [22mshows success message after claim initiated[32m 93[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/registered-clients.test.tsx[2m > [22mRegisteredClients[2m > [22mClient registration[2m > [22mregisters a new client successfully[32m 291[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/overseer-dashboard.test.tsx[2m > [22mOverseerDashboard[2m > [22mDeclaim agent[2m > [22mshows declaim button for claimed agents[32m 32[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/overseer-dashboard.test.tsx[2m > [22mOverseerDashboard[2m > [22mDeclaim agent[2m > [22mrequires confirmation before declaiming[32m 62[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/registered-clients.test.tsx[2m > [22mRegisteredClients[2m > [22mClient registration[2m > [22mshows error on registration failure[32m 164[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/overseer-dashboard.test.tsx[2m > [22mOverseerDashboard[2m > [22mDeclaim agent[2m > [22mcan cancel declaim confirmation[32m 68[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/overseer-dashboard.test.tsx[2m > [22mOverseerDashboard[2m > [22mDowngrade modal[2m > [22mshows alert when over agent limit[32m 7[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/overseer-dashboard.test.tsx[2m > [22mOverseerDashboard[2m > [22mDowngrade modal[2m > [22mshows prepare for downgrade button when over limit[32m 69[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/registered-clients.test.tsx[2m > [22mRegisteredClients[2m > [22mClient registration[2m > [22mshows error when required fields are empty[32m 54[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/registered-clients.test.tsx[2m > [22mRegisteredClients[2m > [22mClient registration[2m > [22mshows client limit error when limit reached[32m 22[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/registered-clients.test.tsx[2m > [22mRegisteredClients[2m > [22mClient deletion[2m > [22mrequires confirmation before deletion[32m 48[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/overseer-dashboard.test.tsx[2m > [22mOverseerDashboard[2m > [22mDowngrade modal[2m > [22mopens downgrade modal when button clicked[32m 80[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/registered-clients.test.tsx[2m > [22mRegisteredClients[2m > [22mClient deletion[2m > [22mdeletes client after confirmation[32m 47[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/registered-clients.test.tsx[2m > [22mRegisteredClients[2m > [22mClient deletion[2m > [22mcancels deletion if user cancels[32m 65[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/registered-clients.test.tsx[2m > [22mRegisteredClients[2m > [22mClient deletion[2m > [22mshows error when deletion fails[32m 46[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/registered-clients.test.tsx[2m > [22mRegisteredClients[2m > [22mSubscription info display[2m > [22mshows client count from subscription[32m 3[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/registered-clients.test.tsx[2m > [22mRegisteredClients[2m > [22mSubscription info display[2m > [22mshows unlimited clients for unlimited tier[32m 3[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/overseer-dashboard.test.tsx[2m > [22mOverseerDashboard[2m > [22mDowngrade modal[2m > [22mshows agents in downgrade modal[32m 100[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/overseer-dashboard.test.tsx[2m > [22mOverseerDashboard[2m > [22mDowngrade modal[2m > [22mrequires selecting agents to remove in downgrade modal[32m 110[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/overseer-dashboard.test.tsx[2m > [22mOverseerDashboard[2m > [22mDowngrade modal[2m > [22mcan cancel downgrade modal[32m 111[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/overseer-dashboard.test.tsx[2m > [22mOverseerDashboard[2m > [22mAgent limit display[2m > [22mshows agent count in header[32m 4[2mms[22m[39m
 [32mâœ“[39m test/unit/pages/overseer-dashboard.test.tsx[2m > [22mOverseerDashboard[2m > [22mAgent limit display[2m > [22mshows infinity symbol for unlimited agents[32m 4[2mms[22m[39m

[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m[1m[41m Failed Tests 14 [49m[22m[31mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[39m

[41m[1m FAIL [22m[49m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mrequest method[2m > [22mmakes fetch request with correct headers
[41m[1m FAIL [22m[49m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mrequest method[2m > [22mincludes Authorization header when session exists
[41m[1m FAIL [22m[49m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mrequest method[2m > [22mdoes not include Authorization header when no session
[41m[1m FAIL [22m[49m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mrequest method[2m > [22mthrows error when response is not ok
[41m[1m FAIL [22m[49m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mrequest method[2m > [22mreturns parsed JSON data on success
[31m[1mTypeError[22m: __vite_ssr_import_0__.vi.mocked(...).mockClear is not a function[39m
[36m [2mâ¯[22m test/unit/api/client.test.ts:[2m56:24[22m[39m
    [90m 54| [39m  [34mdescribe[39m([32m'request method'[39m[33m,[39m () [33m=>[39m {
    [90m 55| [39m    [34mbeforeEach[39m(() [33m=>[39m {
    [90m 56| [39m      vi[33m.[39m[34mmocked[39m(fetch)[33m.[39m[34mmockClear[39m()[33m;[39m
    [90m   | [39m                       [31m^[39m
    [90m 57| [39m    })[33m;[39m
    [90m 58| [39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[1/14]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mregisterAgent[2m > [22mmakes POST request to correct endpoint
[31m[1mTypeError[22m: __vite_ssr_import_0__.vi.mocked(...).mockResolvedValue is not a function[39m
[36m [2mâ¯[22m test/unit/api/client.test.ts:[2m129:24[22m[39m
    [90m127| [39m  [34mdescribe[39m([32m'registerAgent'[39m[33m,[39m () [33m=>[39m {
    [90m128| [39m    [34mit[39m([32m'makes POST request to correct endpoint'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m129| [39m      vi[33m.[39m[34mmocked[39m(fetch)[33m.[39m[34mmockResolvedValue[39m({
    [90m   | [39m                       [31m^[39m
    [90m130| [39m        ok[33m:[39m [35mtrue[39m[33m,[39m
    [90m131| [39m        json: vi.fn().mockResolvedValue({ success: true, agent: { id: â€¦

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[2/14]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mloginAgent[2m > [22mmakes POST request with agent ID
[31m[1mTypeError[22m: __vite_ssr_import_0__.vi.mocked(...).mockResolvedValue is not a function[39m
[36m [2mâ¯[22m test/unit/api/client.test.ts:[2m146:24[22m[39m
    [90m144| [39m  [34mdescribe[39m([32m'loginAgent'[39m[33m,[39m () [33m=>[39m {
    [90m145| [39m    [34mit[39m([32m'makes POST request with agent ID'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m146| [39m      vi[33m.[39m[34mmocked[39m(fetch)[33m.[39m[34mmockResolvedValue[39m({
    [90m   | [39m                       [31m^[39m
    [90m147| [39m        ok[33m:[39m [35mtrue[39m[33m,[39m
    [90m148| [39m        json: vi.fn().mockResolvedValue({ success: true, challenge: {}â€¦

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[3/14]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mcompleteAgentLogin[2m > [22msets session on successful login
[31m[1mTypeError[22m: __vite_ssr_import_0__.vi.mocked(...).mockResolvedValue is not a function[39m
[36m [2mâ¯[22m test/unit/api/client.test.ts:[2m162:24[22m[39m
    [90m160| [39m  [34mdescribe[39m([32m'completeAgentLogin'[39m[33m,[39m () [33m=>[39m {
    [90m161| [39m    [34mit[39m([32m'sets session on successful login'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m162| [39m      vi[33m.[39m[34mmocked[39m(fetch)[33m.[39m[34mmockResolvedValue[39m({
    [90m   | [39m                       [31m^[39m
    [90m163| [39m        ok[33m:[39m [35mtrue[39m[33m,[39m
    [90m164| [39m        json: vi.fn().mockResolvedValue({ success: true, session_id: 'â€¦

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[4/14]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mloginOverseer[2m > [22mmakes POST request and sets session on success
[31m[1mTypeError[22m: __vite_ssr_import_0__.vi.mocked(...).mockResolvedValue is not a function[39m
[36m [2mâ¯[22m test/unit/api/client.test.ts:[2m179:24[22m[39m
    [90m177| [39m  [34mdescribe[39m([32m'loginOverseer'[39m[33m,[39m () [33m=>[39m {
    [90m178| [39m    [34mit[39m([32m'makes POST request and sets session on success'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m179| [39m      vi[33m.[39m[34mmocked[39m(fetch)[33m.[39m[34mmockResolvedValue[39m({
    [90m   | [39m                       [31m^[39m
    [90m180| [39m        ok[33m:[39m [35mtrue[39m[33m,[39m
    [90m181| [39m        json: vi.fn().mockResolvedValue({ success: true, session_id: 'â€¦

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[5/14]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mregisterOverseer[2m > [22mmakes POST request and sets session on success
[31m[1mTypeError[22m: __vite_ssr_import_0__.vi.mocked(...).mockResolvedValue is not a function[39m
[36m [2mâ¯[22m test/unit/api/client.test.ts:[2m196:24[22m[39m
    [90m194| [39m  [34mdescribe[39m([32m'registerOverseer'[39m[33m,[39m () [33m=>[39m {
    [90m195| [39m    [34mit[39m([32m'makes POST request and sets session on success'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m196| [39m      vi[33m.[39m[34mmocked[39m(fetch)[33m.[39m[34mmockResolvedValue[39m({
    [90m   | [39m                       [31m^[39m
    [90m197| [39m        ok[33m:[39m [35mtrue[39m[33m,[39m
    [90m198| [39m        json: vi.fn().mockResolvedValue({ success: true, session_id: 'â€¦

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[6/14]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mlogoutOverseerAndClear[2m > [22mcalls logoutOverseer API and clears session
[31m[1mTypeError[22m: __vite_ssr_import_0__.vi.mocked(...).mockResolvedValue is not a function[39m
[36m [2mâ¯[22m test/unit/api/client.test.ts:[2m220:24[22m[39m
    [90m218| [39m  [34mdescribe[39m([32m'logoutOverseerAndClear'[39m[33m,[39m () [33m=>[39m {
    [90m219| [39m    [34mit[39m([32m'calls logoutOverseer API and clears session'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m220| [39m      vi[33m.[39m[34mmocked[39m(fetch)[33m.[39m[34mmockResolvedValue[39m({
    [90m   | [39m                       [31m^[39m
    [90m221| [39m        ok[33m:[39m [35mtrue[39m[33m,[39m
    [90m222| [39m        json[33m:[39m vi[33m.[39m[34mfn[39m()[33m.[39m[34mmockResolvedValue[39m({ success[33m:[39m [35mtrue[39m })[33m,[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[7/14]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mlogoutOverseerAndClear[2m > [22mclears session even if API call fails
[31m[1mTypeError[22m: __vite_ssr_import_0__.vi.mocked(...).mockRejectedValue is not a function[39m
[36m [2mâ¯[22m test/unit/api/client.test.ts:[2m236:24[22m[39m
    [90m234| [39m
    [90m235| [39m    [34mit[39m([32m'clears session even if API call fails'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m236| [39m      vi[33m.[39m[34mmocked[39m(fetch)[33m.[39m[34mmockRejectedValue[39m([35mnew[39m [33mError[39m([32m'Network error'[39m))[33m;[39m
    [90m   | [39m                       [31m^[39m
    [90m237| [39m      
    [90m238| [39m      api[33m.[39m[34msetSession[39m([32m'test-session'[39m)[33m;[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[8/14]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22mgetSubscription[2m > [22mmakes GET request to subscriptions endpoint
[31m[1mTypeError[22m: __vite_ssr_import_0__.vi.mocked(...).mockResolvedValue is not a function[39m
[36m [2mâ¯[22m test/unit/api/client.test.ts:[2m254:24[22m[39m
    [90m252| [39m  [34mdescribe[39m([32m'getSubscription'[39m[33m,[39m () [33m=>[39m {
    [90m253| [39m    [34mit[39m([32m'makes GET request to subscriptions endpoint'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m254| [39m      vi[33m.[39m[34mmocked[39m(fetch)[33m.[39m[34mmockResolvedValue[39m({
    [90m   | [39m                       [31m^[39m
    [90m255| [39m        ok[33m:[39m [35mtrue[39m[33m,[39m
    [90m256| [39m        json: vi.fn().mockResolvedValue({ success: true, subscription:â€¦

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[9/14]âŽ¯[22m[39m

[41m[1m FAIL [22m[49m test/unit/api/client.test.ts[2m > [22mApiClient[2m > [22minitiateUpgrade[2m > [22mmakes POST request with target tier
[31m[1mTypeError[22m: __vite_ssr_import_0__.vi.mocked(...).mockResolvedValue is not a function[39m
[36m [2mâ¯[22m test/unit/api/client.test.ts:[2m267:24[22m[39m
    [90m265| [39m  [34mdescribe[39m([32m'initiateUpgrade'[39m[33m,[39m () [33m=>[39m {
    [90m266| [39m    [34mit[39m([32m'makes POST request with target tier'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m267| [39m      vi[33m.[39m[34mmocked[39m(fetch)[33m.[39m[34mmockResolvedValue[39m({
    [90m   | [39m                       [31m^[39m
    [90m268| [39m        ok[33m:[39m [35mtrue[39m[33m,[39m
    [90m269| [39m        json[33m:[39m vi[33m.[39m[34mfn[39m()[33m.[39m[34mmockResolvedValue[39m({ success[33m:[39m [35mtrue[39m })[33m,[39m

[31m[2mâŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯âŽ¯[10/14]âŽ¯[22m[39m


[2m Test Files [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m13 passed[39m[22m[90m (14)[39m
[2m      Tests [22m [1m[31m14 failed[39m[22m[2m | [22m[1m[32m182 passed[39m[22m[2m | [22m[33m1 skipped[39m[90m (197)[39m
[2m   Start at [22m 15:11:21
[2m   Duration [22m 2.73s[2m (transform 1.64s, setup 3.06s, import 3.40s, tests 5.70s, environment 8.53s)[22m

