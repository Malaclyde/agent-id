---
phase: 16-manual-testing-tool-extension
plan: "01"
type: execute
wave: 1
depends_on: []
files_modified:
  - frontend/src/api/client.ts
  - frontend/src/pages/OverseerDashboard.tsx
autonomous: true
user_setup: []

must_haves:
  truths:
    - "Frontend displays overseer actions section at bottom of agents pane"
    - "Agent can be selected from dropdown or entered manually"
    - "Respond to Custom Claim URL sends request and displays result"
    - "Revoke Overseer sends request and displays result"
  artifacts:
    - path: "frontend/src/api/client.ts"
      provides: "API client methods for overseer actions"
      exports: ["respondToCustomClaimUrl", "revokeOverseer"]
    - path: "frontend/src/pages/OverseerDashboard.tsx"
      provides: "OverseerActions component"
  key_links:
    - from: "frontend/src/pages/OverseerDashboard.tsx"
      to: "frontend/src/api/client.ts"
      via: "respondToCustomClaimUrl(), revokeOverseer()"
      pattern: "respondToCustomClaimUrl|revokeOverseer"
---

<objective>
Add overseer actions section to frontend - respond to custom claim URL and revoke overseer functionality.
</objective>

<execution_context>
@./.opencode/get-shit-done/workflows/execute-plan.md
@./.opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/16-manual-testing-tool-extension/16-CONTEXT.md

## Phase 16 Requirements (from ROADMAP.md)

**Frontend Goal:** Add section in agents pane for respond to custom claim URL and revoke overseer

## Frontend Implementation Details (from CONTEXT.md)

**Location:** At the bottom of the agents pane (after existing agent list)

**Inputs:**
- Custom agent ID (optional) - if not selecting from the list
- Custom claim URL (text input)
- Overseer ID (text input)

**Agent Selection:**
- Primary: Select agent from existing list in the app
- Fallback: Option to enter custom agent ID (text input)

**Result Display:** Inline display (show response directly in the UI)

**Actions:**
- Respond to custom claim URL button
- Revoke overseer button
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add API client methods</name>
  <files>
    - frontend/src/api/client.ts
  </files>
  <action>
    Add the following methods to the frontend API client:
    1. respondToCustomClaimUrl(agentId: string, claimUrl: string) - sends POST request to respond to custom claim URL
    2. revokeOverseer(agentId: string, overseerId: string) - sends POST request to revoke overseer

    Reference backend endpoint at backend/src/routes/agents.ts:613 for revoke-overseer endpoint.
  </action>
  <verify>API client exports both methods</verify>
  <done>API client has respondToCustomClaimUrl and revokeOverseer methods</done>
</task>

<task type="auto">
  <name>Task 2: Add OverseerActions component to MyAgents</name>
  <files>
    - frontend/src/pages/OverseerDashboard.tsx
  </files>
  <action>
    Create new OverseerActions component in OverseerDashboard.tsx:
    - Position: After the "My Agents" table (around line 354)
    - Include:
      - Agent selector: dropdown with existing agents (primary) + text input for custom agent ID (fallback)
      - Custom claim URL (text input)
      - Overseer ID (text input)
      - "Respond to Custom Claim URL" button
      - "Revoke Overseer" button
      - Inline response display area
    
    Use the API client methods from Task 1.
  </action>
  <verify>Component renders with all inputs and buttons</verify>
  <done>OverseerActions section displays at bottom of agents pane with all inputs and action buttons</done>
</task>

</tasks>

<verification>
1. Frontend displays overseer actions section at bottom of agents pane
2. Agent can be selected from dropdown or entered manually
3. "Respond to Custom Claim URL" sends request and displays result
4. "Revoke Overseer" sends request and displays result
</verification>

<success_criteria>
- [ ] Frontend displays overseer actions section at bottom of agents pane
- [ ] Agent can be selected from dropdown or entered manually
- [ ] "Respond to Custom Claim URL" sends request and displays result
- [ ] "Revoke Overseer" sends request and displays result
</success_criteria>

<output>
After completion, create `.planning/phases/16-manual-testing-tool-extension/16-01-SUMMARY.md`
</output>
