---
phase: 12-frontend-fixes
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - frontend/src/pages/RegisteredClients.tsx
autonomous: true

must_haves:
  truths:
    - "Token endpoint auth picker is removed from client registration form"
    - "Public key field is always visible when registering new OAuth client"
    - "Generate Keys button is always visible"
  artifacts:
    - path: "frontend/src/pages/RegisteredClients.tsx"
      provides: "Client registration form without auth method picker"
      contains: "public_key"
  key_links:
    - from: "frontend/src/pages/RegisteredClients.tsx"
      to: "newClient.token_endpoint_auth_method"
      via: "state variable removed"
      pattern: "token_endpoint_auth_method.*picker"
---

<objective>
Fix the client registration UI by removing the token endpoint auth method picker and always displaying the public key field.

Purpose: Backend only supports private_key authentication, so the picker is unnecessary and confuses users.
Output: Modified RegisteredClients.tsx with simplified form
</objective>

<execution_context>
@./.opencode/get-shit-done/workflows/execute-plan.md
@./.opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/12-frontend-fixes/12-CONTEXT.md
@.planning/phases/12-frontend-fixes/12-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Remove token endpoint auth method picker from client registration form</name>
  <files>frontend/src/pages/RegisteredClients.tsx</files>
  <action>
1. In the newClient state (line 17-24), remove `token_endpoint_auth_method` field or hardcode it to 'private_key_jwt'
2. Remove the entire `<select>` element for token_endpoint_auth_method (lines 206-217)
3. Remove the conditional rendering `{newClient.token_endpoint_auth_method === 'private_key_jwt' && (` (line 219)
4. Always display the public key input field (previously conditional on line 219-243)
5. Always display the "Generate Key" button
6. Update the handleSubmit function to either:
   - Remove token_endpoint_auth_method from submission, OR
   - Hardcode it to 'private_key_jwt' in the API call (line 104)
7. Update the reset state (line 111-118) to remove token_endpoint_auth_method or keep it hardcoded
8. Remove any validation that checks for private_key_jwt (line 95-98) - public key is now always required

This implements the locked decision: "REMOVE the token endpoint auth method picker entirely, ALWAYS DISPLAY the public key input field, ALWAYS DISPLAY the Generate Keys button"
  </action>
  <verify>
Run `npm run build` in frontend directory to verify TypeScript compilation succeeds with no errors
  </verify>
  <done>
The client registration form no longer shows a dropdown for token endpoint auth method. The public key field and Generate Key button are always visible when registering a new OAuth client.
  </done>
</task>

</tasks>

<verification>
1. Open the OAuth Clients page in the browser
2. Click "Register New Client" button
3. Verify the form no longer has a "Token Endpoint Auth Method" dropdown
4. Verify the "Ed25519 Public Key" input field is always visible
5. Verify the "Generate Key" button is always visible
</verification>

<success_criteria>
- [ ] No token_endpoint_auth_method dropdown in the form
- [ ] Public key field always visible when form is open
- [ ] Generate Key button always visible
- [ ] Form submits successfully with hardcoded private_key_jwt auth method
- [ ] TypeScript builds without errors
</success_criteria>

<output>
After completion, create `.planning/phases/12-frontend-fixes/12-01-SUMMARY.md`
</output>
