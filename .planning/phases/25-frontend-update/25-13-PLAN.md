---
phase: 25-frontend-update
plan: 13
type: execute
wave: 1
depends_on: []
files_modified: ["frontend/src/pages/ShadowClaim.tsx", "frontend/src/pages/ShadowClaimPayment.tsx"]
autonomous: true
gap_closure: true
must_haves:
  truths:
    - "Instruction labels display with correct text-light color"
    - "Authorization header text displays with primary-dark color"
    - "Paddle price preview loads successfully without TypeError"
    - "Payment tier copy exactly matches requested text"
    - "Payment success state persists on screen instead of auto-navigating away"
  artifacts:
    - path: "frontend/src/pages/ShadowClaim.tsx"
      provides: "Updated styling and success state logic"
    - path: "frontend/src/pages/ShadowClaimPayment.tsx"
      provides: "Corrected Paddle price fetching and copy"
  key_links: []
---

<objective>
Close remaining verification gaps for the shadow claim frontend implementation.

Purpose: Address styling issues, fix the Paddle price fetching TypeError, update payment copy, and stop the unwanted auto-navigation on success.
Output: Updated React components matching the exact verification criteria.
</objective>

<execution_context>
@./.opencode/get-shit-done/workflows/execute-plan.md
@./.opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@frontend/src/pages/ShadowClaim.tsx
@frontend/src/pages/ShadowClaimPayment.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix Instruction Styles and Success Navigation</name>
  <files>frontend/src/pages/ShadowClaim.tsx</files>
  <action>
    - Update instruction labels (Endpoint URL, Request Body, Authentication) to use `var(--text-light)` instead of `var(--text-secondary)`.
    - Update Authorization header text to use `var(--primary-dark)`.
    - Find the payment success state logic (e.g., `onSuccess` callback or `useEffect` redirecting to home) and REMOVE the auto-navigation. The user should remain on the success message view.
  </action>
  <verify>Check that labels use `--text-light`, Authorization header uses `--primary-dark`, and `useNavigate` isn't called immediately on success.</verify>
  <done>Styling matches requirements and success screen persists.</done>
</task>

<task type="auto">
  <name>Task 2: Fix Paddle Price Preview and Copy</name>
  <files>frontend/src/pages/ShadowClaimPayment.tsx</files>
  <action>
    - Fix the Paddle price preview error (`TypeError: Paddle.PricePreview.getPrice is not a function`). Ensure it's using the correct method. The payment option ID is `pri_01kh4mjq14kqz3zvs5j59wsf1q`.
    - If `Payment.tsx` is not where the Paddle logic is, locate the correct file (e.g. `ShadowClaim.tsx` or similar) and apply the fix there.
    - Update the payment tier copy exactly as requested:
      - Header: "This upgrade includes:" (replace "Shadow Oversight Access")
      - List item: "unlimited oauth registrations"
      - List item: "up to 10 oauth clients"
      - Under the list, display text: "for this billing period"
  </action>
  <verify>Ensure `Paddle.PricePreview` is called correctly without errors and the new copy is present.</verify>
  <done>Price loads dynamically and copy matches exact strings.</done>
</task>

</tasks>

<verification>
- Instruction labels use `--text-light`
- Auth header uses `--primary-dark`
- Paddle price fetch method is fixed to avoid TypeError
- Payment copy matches requested strings exactly
- Success page no longer auto-navigates
</verification>

<success_criteria>
All styling, runtime errors, and logic gaps listed in the verification report are resolved.
</success_criteria>

<output>
After completion, create `.planning/phases/25-frontend-update/25-13-SUMMARY.md`
</output>
