---
phase: 08-api-prefix-to-v1-prefix
plan: 08
type: execute
wave: 2
depends_on:
  - 08-01
files_modified:
  - docs/v1/test scenarios/edge-cases.md
  - docs/v1/test scenarios/error-handling.md
  - docs/v1/test scenarios/registration.md
  - docs/v1/test scenarios/claim.md
  - docs/v1/test scenarios/client.md
  - docs/v1/test scenarios/subscription.md
autonomous: true
user_setup: []

must_haves:
  truths:
    - "All test scenario documentation uses /v1/* paths"
    - "No /api/*, /webhooks, or /oauth paths remain in test scenarios/"
  artifacts:
    - path: "docs/v1/test scenarios/"
      provides: "Test scenario documentation with /v1 paths"
      contains: "/v1/"
      not_contains: '"/api/'
  key_links: []
---

<objective>
Update API test scenario documentation to use /v1/* prefix paths.

Purpose: Documentation must match the new API structure after backend migration.
Output: Updated documentation files in docs/v1/test scenarios/ with all /api/* paths changed to /v1/*
</objective>

<execution_context>
@./.opencode/get-shit-done/workflows/execute-plan.md
@./.opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@docs/v1/test scenarios/edge-cases.md
@docs/v1/test scenarios/error-handling.md
@docs/v1/test scenarios/registration.md
@docs/v1/test scenarios/claim.md
@docs/v1/test scenarios/client.md
@docs/v1/test scenarios/subscription.md

Files to update (all paths /api/* -> /v1/*, /webhooks -> /v1/webhooks, /oauth -> /v1/oauth):
1. docs/v1/test scenarios/edge-cases.md - Test scenarios with API paths
2. docs/v1/test scenarios/error-handling.md - Error handling test scenarios
3. docs/v1/test scenarios/registration.md - Registration test scenarios
4. docs/v1/test scenarios/claim.md - Claim test scenarios
5. docs/v1/test scenarios/client.md - Client test scenarios
6. docs/v1/test scenarios/subscription.md - Subscription test scenarios

Replace all occurrences of:
- /api/agents -> /v1/agents
- /api/overseers -> /v1/overseers
- /api/clients -> /v1/clients
- /api/subscriptions -> /v1/subscriptions
- /webhooks -> /v1/webhooks
- /oauth -> /v1/oauth
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update test scenario documentation paths</name>
  <files>
    - docs/v1/test scenarios/edge-cases.md
    - docs/v1/test scenarios/error-handling.md
    - docs/v1/test scenarios/registration.md
    - docs/v1/test scenarios/claim.md
    - docs/v1/test scenarios/client.md
    - docs/v1/test scenarios/subscription.md
  </files>
  <action>
    Update all test scenario documentation files to use /v1/* prefix paths:

    For EACH file, perform replaceAll replacements:
    - "/api/agents" → "/v1/agents"
    - "/api/overseers" → "/v1/overseers"  
    - "/api/clients" → "/v1/clients"
    - "/api/subscriptions" → "/v1/subscriptions"
    - "/webhooks" → "/v1/webhooks"
    - "/oauth" → "/v1/oauth"

    This applies to:
    - Test scenario step descriptions
    - API endpoint examples in test cases
    - Request/response examples
  </action>
  <verify>
    grep -rn '"/api/' "docs/v1/test scenarios/" 2>&1
    Expected output: No matches
    
    grep -rn '/webhooks' "docs/v1/test scenarios/" 2>&1
    Expected output: No matches (only /v1/webhooks should exist)
    
    grep -rn '"\/oauth"' "docs/v1/test scenarios/" 2>&1
    Expected output: No matches (only /v1/oauth should exist)
  </verify>
  <done>
    All test scenario documentation uses /v1/ prefix with no old /api/*, /webhooks, or /oauth paths remaining
  </done>
</task>

</tasks>

<verification>
After completion, run:
```bash
# Verify no /api/ paths remain
grep -rn '"/api/' "docs/v1/test scenarios/"
# Expected: No matches

# Verify no /webhooks paths remain
grep -rn '/webhooks' "docs/v1/test scenarios/"
# Expected: No matches

# Verify no /oauth paths remain
grep -rn '"\/oauth"' "docs/v1/test scenarios/"
# Expected: No matches

# Verify /v1/ paths are used
grep -rn '/v1/' "docs/v1/test scenarios/" | head -10
# Expected: Multiple matches showing updated paths
```
</verification>

<success_criteria>
All 6 test scenario documentation files updated to use /v1/* paths with no old /api/*, /webhooks, or /oauth paths remaining
</success_criteria>

<output>
After completion, create `.planning/phases/08-api-prefix-to-v1-prefix/08-08-SUMMARY.md`
</output>
